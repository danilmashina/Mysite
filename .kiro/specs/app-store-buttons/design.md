# Дизайн-документ: Кнопки магазинов приложений

## Обзор

Данный дизайн описывает добавление кнопок Play Market и Apple Store на страницу мобильного приложения TasteSmoke. Поскольку приложения пока недоступны на этих платформах, дизайн включает механизм уведомления пользователей о статусе "Скоро" и возможность подписки на уведомления.

## Архитектура

### Компоненты интерфейса
- **Группа кнопок загрузки**: Контейнер для всех кнопок магазинов приложений
- **Кнопка RuStore**: Существующая активная кнопка (без изменений)
- **Кнопка Play Market**: Новая кнопка с состоянием "Скоро"
- **Кнопка Apple Store**: Новая кнопка с состоянием "Скоро"
- **Модальное окно уведомлений**: Всплывающее окно для сбора контактов

### Состояния кнопок
1. **Активная** (RuStore): Прямая ссылка на скачивание
2. **Скоро** (Play Market, Apple Store): Показ модального окна с формой подписки
3. **Будущее состояние**: Легкое переключение на активное состояние

## Компоненты и интерфейсы

### HTML структура
```html
<div class="app-actions">
  <button class="btn-install active" data-store="rustore">
    Скачать RuStore
  </button>
  <button class="btn-install coming-soon" data-store="playmarket">
    Play Market
    <span class="coming-soon-badge">Скоро</span>
  </button>
  <button class="btn-install coming-soon" data-store="appstore">
    App Store
    <span class="coming-soon-badge">Скоро</span>
  </button>
</div>
```

### CSS классы
- `.btn-install`: Базовый стиль для всех кнопок
- `.active`: Стиль для доступных кнопок
- `.coming-soon`: Стиль для недоступных кнопок
- `.coming-soon-badge`: Индикатор "Скоро"

### JavaScript функциональность
- Обработчики кликов для разных типов кнопок
- Управление модальными окнами
- Валидация форм подписки
- Локальное хранение статуса подписок

## Модели данных

### Конфигурация магазинов
```javascript
const storeConfig = {
  rustore: {
    name: 'RuStore',
    url: 'https://www.rustore.ru/catalog/app/com.example.tastesmoketest',
    available: true
  },
  playmarket: {
    name: 'Play Market',
    url: null,
    available: false
  },
  appstore: {
    name: 'App Store',
    url: null,
    available: false
  }
}
```

### Данные подписки
```javascript
const subscriptionData = {
  email: '',
  store: '',
  timestamp: Date.now()
}
```

## Обработка ошибок

### Сценарии ошибок
1. **Недоступность внешних ссылок**: Показ сообщения об ошибке
2. **Ошибки валидации email**: Подсветка неверных полей
3. **Проблемы с отправкой формы**: Повторная попытка или альтернативные способы

### Стратегии восстановления
- Graceful degradation для старых браузеров
- Fallback для отсутствия JavaScript
- Кэширование статуса подписок в localStorage

## Стратегия тестирования

### Модульные тесты
- Валидация email адресов
- Корректность обработки кликов
- Управление состояниями кнопок

### Интеграционные тесты
- Взаимодействие с модальными окнами
- Сохранение данных в localStorage
- Переходы между состояниями

### Пользовательские тесты
- Удобство использования на мобильных устройствах
- Понятность интерфейса "Скоро"
- Процесс подписки на уведомления

## Адаптивность

### Мобильные устройства
- Кнопки располагаются вертикально на узких экранах
- Увеличенные области касания
- Оптимизированные размеры модальных окон

### Планшеты и десктопы
- Горизонтальное расположение кнопок
- Hover эффекты для десктопных устройств
- Центрированные модальные окна